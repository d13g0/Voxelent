function vxlModel(a){this.name=a;this.indices=null;this.vertices=null;this.scalars=null;this.diffuse=null;this.normals=null;this.wireframe=null;this.centre=null;this.outline=null}vxlModel.prototype.load=function(a,b){this.name=a;if(b.obj_name!=null){this.name=b.obj_name}this.vertices=b.vertices;this.indices=b.indices;this.diffuse=b.diffuse;this.scalars=b.scalars;this.wireframe=b.wireframe;this.colors=b.colors;if(!this.normals&&!this.wireframe){this.getNormals()}if(!this.color){this.color=vxl.def.model.color.slice(0)
}if(this.wireframe==null){this.getWireframeIndices()}this.getOutline();this.getCentre()};vxlModel.prototype.getNormals=function(e){if(e==undefined){e=false}var o=this.vertices;var a=this.indices;var l=0;var g=1;var f=2;var h=[];for(var b=0;b<o.length;b=b+3){h[b+l]=0;h[b+g]=0;h[b+f]=0}for(var b=0;b<a.length;b=b+3){var m=[];var k=[];var d=[];m[l]=o[3*a[b+2]+l]-o[3*a[b+1]+l];m[g]=o[3*a[b+2]+g]-o[3*a[b+1]+g];m[f]=o[3*a[b+2]+f]-o[3*a[b+1]+f];k[l]=o[3*a[b]+l]-o[3*a[b+1]+l];k[g]=o[3*a[b]+g]-o[3*a[b+1]+g];
k[f]=o[3*a[b]+f]-o[3*a[b+1]+f];d[l]=m[g]*k[f]-m[f]*k[g];d[g]=m[f]*k[l]-m[l]*k[f];d[f]=m[l]*k[g]-m[g]*k[l];if(e){d[l]=-d[l];d[g]=-d[g];d[f]=-d[f]}for(j=0;j<3;j++){h[3*a[b+j]+l]=h[3*a[b+j]+l]+d[l];h[3*a[b+j]+g]=h[3*a[b+j]+g]+d[g];h[3*a[b+j]+f]=h[3*a[b+j]+f]+d[f]}}for(var b=0;b<o.length;b=b+3){var n=[];n[l]=h[b+l];n[g]=h[b+g];n[f]=h[b+f];var c=Math.sqrt((n[l]*n[l])+(n[g]*n[g])+(n[f]*n[f]));if(c==0){c=1}n[l]=n[l]/c;n[g]=n[g]/c;n[f]=n[f]/c;h[b+l]=n[l];h[b+g]=n[g];h[b+f]=n[f]}this.normals=h};vxlModel.prototype.getWireframeIndices=function(){var d=this.indices;
var c=[];var a=0;for(var b=0;b<d.length;b=b+3){c[a]=d[b];c[a+1]=d[b+1];c[a+2]=d[b+1];c[a+3]=d[b+2];c[a+4]=d[b+2];c[a+5]=d[b];a=a+6}this.wireframe=c};vxlModel.prototype.getCentre=function(){var a=this.outline;var b=[0,0,0];b[0]=(a[3]+a[0])/2;b[1]=(a[4]+a[1])/2;b[2]=(a[5]+a[2])/2;this.centre=b};vxlModel.prototype.getOutline=function(){var c=this.vertices;var b=[c[0],c[1],c[2],c[0],c[1],c[2]];for(var a=0;a<c.length;a=a+3){b[0]=Math.min(b[0],c[a]);b[1]=Math.min(b[1],c[a+1]);b[2]=Math.min(b[2],c[a+2]);
b[3]=Math.max(b[3],c[a]);b[4]=Math.max(b[4],c[a+1]);b[5]=Math.max(b[5],c[a+2])}this.outline=b};