<html>
<head>
<meta name='Diego Cantor' content='Voxelent: The best WebGL platform yet'>
<meta name='copyright' content='&copy 2011'>
<meta name='robots' content='all'>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name='keywords' content='webgl, webgl platform, medical imaging, webgl api'>

<script type="text/javascript" src="lib/jquery.js" ></script>
<script type="text/javascript" src="lib/jquery-ui.js" ></script>
<script type='text/javascript' src='lib/voxelent_v0.87.6.js'></script>

<link rel='stylesheet' type='text/css' href='css/jquery-ui/theme-1.css'/>

<title>Voxelent - Demo Brain</title>
<script type='text/javascript' id='code-js'>

	function runVoxApp(){
		
		vxl.go.debug = true;
	    vxl.go.notifier.subscribe(vxl.events.MODELS_LOADED, this);
	    
	    vxl.api.loadLUTS('assets/tables');
	    
	
	    vxl.api.setup('view-1');
	    var list = ["part1.json",
	    			"part2.json",
	    			"part3.json",
	    			"part4.json",
	    			"part5.json",
	    			"part6.json"];
	    
	
	    vxl.api.load(list,'assets/models/brain',vxl.def.model.loadingMode.LATER);
	    vxl.c.view.start();
	}
	
	function handleEvent(event, src){
	    if (event == vxl.events.MODELS_LOADED){
	    	vxl.api.setLookupTable('default');
	    	vxl.c.camera.longShot();
	    	vxl.api.boundingBoxON();
	    	$('#overlay-div').fadeIn(3000);
	    }
	}
</script>
        
<script type="text/javascript">
  //Google Analytics Script 
  var _gaq = _gaq || []; _gaq.push(['_setAccount', 'UA-26954785-1']); _gaq.push(['_trackPageview']);  (function() {  var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;     ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';     var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);   })();
</script>

<style type="text/css">
.show {

     position: relative;
}

.overlay {
    background: rgba(100,100,100,0.5);
    padding: 5px;
    width: 150px;
    height: 20%;
    position: absolute;
    top: 5px;
    right: 5px;
    font-size:12px;
    font-family: Arial,Helvetica;
    color: white;
    display: none;
}

</style> 

</head>
<body onload='runVoxApp()'>
	
	 
<div><img src="css/img/voxelent.png" /></div>
<div class='show'>
<canvas id = 'view-1' width='1200' height='600'>
	<p>
		Your browser does not support WebGL :-(
	</p>
</canvas>
<div id='overlay-div' class='overlay'>
      <p> Alt + Left Click + Drag: Camera dollying</p>
      <p> Shift + Left Click + Drag: Camera panning</p>
      <p>
      <input type='checkbox' id='toggleMesh'/><label for='toggleMesh'>Show Wireframe</label>
      </p> 
    </div>  
</div>

<script>

$('#toggleMesh').button().click(
    function(){
        if (this.checked){
            vxl.api.wireframeON();
            $('#toggleMesh').button('option','label','Show Surface');
        }
        else{
            vxl.api.surfaceON();
            $('#toggleMesh').button('option','label','Show Wireframe');
        }
    }
);
</script>
</body>
</html>
